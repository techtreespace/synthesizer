<!DOCTYPE html><script src="/__replco/static/devtools/eruda/3.2.3/eruda.js"></script><script src="/__replco/static/devtools/injected.js"onerror="parent.postMessage({event:'error',payload:'script.onerror: Failed to load '+event.target.src},'https://replit.com')"></script>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIY 아날로그 신디사이저 탐험</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="static/css/custom.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        'accent': {
                            50: '#fefce8',
                            100: '#fef3c7',
                            500: '#eab308',
                            600: '#ca8a04',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Virtual Keyboard Styles */
        .keyboard-container {
            position: relative;
            display: flex;
            justify-content: center;
            width: 100%;
            max-width: 900px; /* Adjust as needed */
            margin: 2rem auto;
            border: 1px solid #ccc;
            border-radius: 8px;
            overflow: hidden;
            background-color: #f5f5f5;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .white-keys-container, .black-keys-container {
            display: flex;
            height: 200px; /* Height of the keyboard */
        }

        .white-keys-container {
            position: relative;
            z-index: 1;
        }

        .black-keys-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120px; /* Black keys are shorter */
            z-index: 2;
            display: flex;
        }

        .white-key {
            width: 50px; /* Width of each white key */
            height: 100%;
            background-color: #fff;
            border: 1px solid #ccc;
            border-right: none;
            box-sizing: border-box;
            cursor: pointer;
            transition: background-color 0.1s ease;
        }

        .white-key:last-child {
            border-right: 1px solid #ccc;
        }

        .white-key:active, .white-key.active {
            background-color: #e0e0e0;
        }

        .black-key {
            width: 30px; /* Width of each black key */
            height: 100%;
            background-color: #333;
            border: 1px solid #000;
            border-right: none;
            box-sizing: border-box;
            cursor: pointer;
            position: relative;
            margin-left: -15px; /* Half of black key width to overlap */
            margin-right: -15px; /* Half of black key width to overlap */
            z-index: 3; /* Ensure black keys are on top */
            transition: background-color 0.1s ease;
        }

        .black-key.spacer {
            width: 30px; /* Width of missing black key */
            background-color: transparent;
            border: none;
            margin-left: 15px; /* Adjust spacing for black keys */
            margin-right: 15px; /* Adjust spacing for black keys */
            pointer-events: none; /* Make it unclickable */
        }

        /* Specific positioning for black keys to align with white keys */
        .black-key:nth-child(1) { margin-left: 35px; } /* C#4 over C4/D4 */
        .black-key:nth-child(2) { margin-left: 20px; } /* D#4 over D4/E4 */
        /* Skip E to F */
        .black-key:nth-child(4) { margin-left: 55px; } /* F#4 over F4/G4 */
        .black-key:nth-child(5) { margin-left: 20px; } /* G#4 over G4/A4 */
        .black-key:nth-child(6) { margin-left: 20px; } /* A#4 over A4/B4 */
        /* Skip B to C */
        .black-key:nth-child(8) { margin-left: 55px; } /* C#5 over C5/D5 */
        .black-key:nth-child(9) { margin-left: 20px; } /* D#5 over D5/E5 */
        /* Skip E to F */
        .black-key:nth-child(11) { margin-left: 55px; } /* F#5 over F5/G5 */
        .black-key:nth-child(12) { margin-left: 20px; } /* G#5 over G5/A5 */
        .black-key:nth-child(13) { margin-left: 20px; } /* A#5 over A5/B5 */


        .black-key:active, .black-key.active {
            background-color: #666;
        }
    </style>
</head>
<body class="font-inter bg-gradient-to-br from-slate-50 to-blue-50 text-slate-800 min-h-screen overflow-x-hidden">
    <div id="main-page-overlay" class="fixed inset-0 bg-gradient-to-br from-primary-900 via-primary-800 to-primary-700 text-white flex flex-col items-center justify-center p-8 z-50 transition-all duration-700 ease-out">
        <div class="max-w-4xl mx-auto text-center space-y-8">
            <div class="space-y-4">
                <h2 class="text-2xl md:text-3xl font-light text-accent-100 tracking-wide">Welcome to</h2>
                <h1 class="text-5xl md:text-7xl font-bold text-white leading-tight tracking-tight">
                    DIY Analog<br>
                    <span class="bg-gradient-to-r from-accent-300 to-accent-100 bg-clip-text text-transparent">Synthesizer</span>
                </h1>
                <p class="text-xl md:text-2xl text-primary-100 font-light max-w-2xl mx-auto leading-relaxed">
                    전자음악의 세계로 떠나는 특별한 여행
                </p>
            </div>
            
            <div class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-3xl mx-auto">
                    <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20">
                        <div class="w-12 h-12 bg-accent-500 rounded-lg flex items-center justify-center mb-4 mx-auto">
                            <i class="fas fa-lightbulb text-white text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">학습</h3>
                        <p class="text-sm text-primary-100">신디사이저의 원리와 구조를 쉽게 이해</p>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20">
                        <div class="w-12 h-12 bg-accent-500 rounded-lg flex items-center justify-center mb-4 mx-auto">
                            <i class="fas fa-play text-white text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">체험</h3>
                        <p class="text-sm text-primary-100">직접 소리를 만들고 연주해보는 실습</p>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20">
                        <div class="w-12 h-12 bg-accent-500 rounded-lg flex items-center justify-center mb-4 mx-auto">
                            <i class="fas fa-tools text-white text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">제작</h3>
                        <p class="text-sm text-primary-100">나만의 신디사이저를 직접 만들어보기</p>
                    </div>
                </div>
                
                <button id="start-exploration-button" 
                        class="bg-gradient-to-r from-accent-500 to-accent-600 hover:from-accent-600 hover:to-accent-700 text-white px-12 py-4 rounded-full text-xl font-semibold shadow-2xl hover:shadow-accent-500/25 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1">
                    <i class="fas fa-rocket mr-3"></i>탐험 시작하기
                </button>
            </div>
            
            <p class="text-xl sm:text-2xl font-semibold text-center text-white mb-6">재미있게 탐험해 볼까요?</p>
        </div>

        <button id="start-exploration-button">
            Let's go !
        </button>
    </div>

    <header class="flex-shrink-0 bg-sky-700 text-white p-6 shadow-md sticky top-0 z-50 transition-transform duration-300 ease-in-out">
        <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
            <div class="flex justify-between items-center w-full sm:w-auto">
                <h1 class="text-xl sm:text-2xl md:text-3xl font-bold text-white text-center sm:text-left mb-0 sm:mb-0 cursor-pointer" onclick="showIntro()">DIY 아날로그 신디사이저 탐험</h1>
                <button id="mobile-menu-toggle" class="sm:hidden text-white text-2xl focus:outline-none ml-4">
                    <i class="fas fa-bars text-xl text-slate-600"></i>
                </button>
            </div>
            
            <nav class="hidden md:flex space-x-1">
                <button class="tab-button active px-3 py-2 rounded-lg font-bold transition-all duration-200 text-sm" onclick="showSection('sound')">
                    1
                </button>
                <button class="tab-button px-3 py-2 rounded-lg font-bold transition-all duration-200 text-sm" onclick="showSection('heart')">
                    2
                </button>
                <button class="tab-button px-3 py-2 rounded-lg font-bold transition-all duration-200 text-sm" onclick="showSection('components')">
                    3
                </button>
                <button class="tab-button px-3 py-2 rounded-lg font-bold transition-all duration-200 text-sm" onclick="showSection('hands-on')">
                    4
                </button>
                <button class="tab-button px-3 py-2 rounded-lg font-bold transition-all duration-200 text-sm" onclick="showSection('diy')">
                    5
                </button>
            </nav>
        </div>
    </header>

    <div class="flex flex-col min-h-screen">
    <main class="flex-1 container mx-auto px-6 py-8">
        <div class="max-w-6xl mx-auto">
            <section id="sound-section" class="content-section">
                <div class="mb-8">
                    <h2 class="section-title bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent text-4xl font-bold mb-4">1. 소리의 세계</h2>
                    <p class="section-subtitle">소리의 기본 원리부터 신디사이저가 어떻게 소리를 만드는지 알아보겠습니다.</p>
                </div>

                <div class="grid gap-8">
                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-wave-square text-primary-500 mr-3"></i>
                            소리란 무엇인가요?
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph">
                                소리는 공기 중에서 일어나는 압력의 변화입니다. 
                                물체가 진동하면 주변 공기 분자들이 압축되고 팽창하면서 파동이 만들어지고, 
                                이 파동이 우리 귀에 도달하면 소리로 인식됩니다.
                            </p>
                            <p class="text-paragraph">
                                신디사이저는 전자적으로 이런 진동을 만들어서 소리를 생성합니다. 
                                다양한 파형(사인파, 사각파, 톱니파 등)을 만들어 내어 
                                각기 다른 음색의 소리를 만들어낼 수 있습니다.
                            </p>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-chart-line text-primary-500 mr-3"></i>
                            파형의 종류
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                신디사이저에서 사용하는 기본 파형들을 살펴보세요. 
                                각 파형은 고유한 음색과 특성을 가지고 있습니다.
                            </p>
                            <div class="chart-container">
                                <canvas id="waveformChart"></canvas>
                            </div>
                            <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-slate-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-primary-700 mb-2">사인파 (Sine Wave)</h4>
                                    <p class="text-sm text-slate-600">가장 순수한 형태의 파형으로, 부드럽고 둥근 소리</p>
                                </div>
                                <div class="bg-slate-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-primary-700 mb-2">사각파 (Square Wave)</h4>
                                    <p class="text-sm text-slate-600">날카롭고 디지털적인 소리, 클라리넷과 비슷</p>
                                </div>
                                <div class="bg-slate-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-primary-700 mb-2">톱니파 (Sawtooth Wave)</h4>
                                    <p class="text-sm text-slate-600">밝고 날카로운 소리, 브라스 악기와 비슷</p>
                                </div>
                                <div class="bg-slate-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-primary-700 mb-2">삼각파 (Triangle Wave)</h4>
                                    <p class="text-sm text-slate-600">사인파와 사각파의 중간 특성을 가진 소리</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-volume-up text-primary-500 mr-3"></i>
                            파형 체험하기
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                각 파형 버튼을 길게 눌러서 소리의 차이를 직접 들어보세요.
                            </p>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <button class="waveform-button" data-waveform="sine" onmousedown="startWaveform('sine')" onmouseup="stopWaveform()" onmouseleave="stopWaveform()" ontouchstart="startWaveform('sine')" ontouchend="stopWaveform()">
                                    <svg class="w-8 h-8 mb-2" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 25Q12.5 5 25 25T50 25Q62.5 5 75 25T100 25" stroke="currentColor" stroke-width="3" fill="none"/>
                                    </svg>
                                    <span>사인파</span>
                                </button>
                                <button class="waveform-button" data-waveform="square" onmousedown="startWaveform('square')" onmouseup="stopWaveform()" onmouseleave="stopWaveform()" ontouchstart="startWaveform('square')" ontouchend="stopWaveform()">
                                    <svg class="w-8 h-8 mb-2" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 40L0 10L25 10L25 40L50 40L50 10L75 10L75 40L100 40" stroke="currentColor" stroke-width="3" fill="none"/>
                                    </svg>
                                    <span>사각파</span>
                                </button>
                                <button class="waveform-button" data-waveform="sawtooth" onmousedown="startWaveform('sawtooth')" onmouseup="stopWaveform()" onmouseleave="stopWaveform()" ontouchstart="startWaveform('sawtooth')" ontouchend="stopWaveform()">
                                    <svg class="w-8 h-8 mb-2" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 40L25 10L25 40L50 10L50 40L75 10L75 40L100 10" stroke="currentColor" stroke-width="3" fill="none"/>
                                    </svg>
                                    <span>톱니파</span>
                                </button>
                                <button class="waveform-button" data-waveform="triangle" onmousedown="startWaveform('triangle')" onmouseup="stopWaveform()" onmouseleave="stopWaveform()" ontouchstart="startWaveform('triangle')" ontouchend="stopWaveform()">
                                    <svg class="w-8 h-8 mb-2" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 40L25 10L50 40L75 10L100 40" stroke="currentColor" stroke-width="3" fill="none"/>
                                    </svg>
                                    <span>삼각파</span>
                                </button>
                            </div>
                            <p class="text-center text-sm text-slate-600 mt-4">
                                ⚠️ 볼륨을 적절히 조절한 후 버튼을 길게 눌러주세요
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="heart-section" class="content-section hidden">
                <div class="mb-8">
                    <h2 class="section-title bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent text-4xl font-bold mb-4">2. 신디사이저의 기본 구조</h2>
                    <p class="section-subtitle">신디사이저가 어떻게 구성되어 있는지, 각 부분이 어떤 역할을 하는지 알아보겠습니다.</p>
                </div>

                <div class="grid gap-8">
                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-sitemap text-primary-500 mr-3"></i>
                            신디사이저의 구조
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph">
                                아날로그 신디사이저는 크게 세 가지 핵심 부분으로 구성됩니다:
                            </p>
                            <div class="mt-6 grid gap-4">
                                <div class="architecture-block">
                                    <div class="flex items-center mb-3">
                                        <div class="w-8 h-8 bg-primary-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">1</div>
                                        <h4 class="font-semibold text-lg text-primary-700">오실레이터 (Oscillator)</h4>
                                    </div>
                                    <p class="text-sm text-slate-600 ml-11">
                                        기본 소리를 만드는 부분입니다. 전자적으로 진동을 만들어 다양한 파형의 소리를 생성합니다.
                                    </p>
                                </div>
                                <div class="architecture-block">
                                    <div class="flex items-center mb-3">
                                        <div class="w-8 h-8 bg-accent-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">2</div>
                                        <h4 class="font-semibold text-lg text-accent-700">필터 (Filter)</h4>
                                    </div>
                                    <p class="text-sm text-slate-600 ml-11">
                                        오실레이터에서 만든 소리를 조정합니다. 특정 주파수를 강조하거나 제거하여 음색을 변화시킵니다.
                                    </p>
                                </div>
                                <div class="architecture-block">
                                    <div class="flex items-center mb-3">
                                        <div class="w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">3</div>
                                        <h4 class="font-semibold text-lg text-emerald-700">앰프 (Amplifier)</h4>
                                    </div>
                                    <p class="text-sm text-slate-600 ml-11">
                                        소리의 크기와 시간에 따른 변화를 조절합니다. 소리가 어떻게 시작되고 끝나는지를 결정합니다.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-arrow-right text-primary-500 mr-3"></i>
                            신호의 흐름
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                신디사이저에서 소리가 만들어지는 과정을 단계별로 살펴보겠습니다.
                            </p>
                            <div class="grid md:grid-cols-3 gap-6">
                                <div class="signal-block">
                                    <div class="bg-primary-100 p-6 rounded-lg border-2 border-primary-200">
                                        <div class="w-12 h-12 bg-primary-500 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4">
                                            <i class="fas fa-wave-square"></i>
                                        </div>
                                        <h4 class="font-semibold text-lg text-primary-700 mb-2">1. 오실레이터</h4>
                                        <p class="text-sm text-slate-600">
                                            기본 파형 생성<br>
                                            • 사인파, 사각파, 톱니파<br>
                                            • 주파수 조절
                                        </p>
                                    </div>
                                    <div class="text-center mt-3">
                                        <i class="fas fa-arrow-down text-2xl text-slate-400"></i>
                                    </div>
                                </div>
                                <div class="signal-block">
                                    <div class="bg-accent-100 p-6 rounded-lg border-2 border-accent-200">
                                        <div class="w-12 h-12 bg-accent-500 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4">
                                            <i class="fas fa-filter"></i>
                                        </div>
                                        <h4 class="font-semibold text-lg text-accent-700 mb-2">2. 필터</h4>
                                        <p class="text-sm text-slate-600">
                                            음색 조절<br>
                                            • 고주파/저주파 제거<br>
                                            • 특정 주파수 강조
                                        </p>
                                    </div>
                                    <div class="text-center mt-3">
                                        <i class="fas fa-arrow-down text-2xl text-slate-400"></i>
                                    </div>
                                </div>
                                <div class="signal-block">
                                    <div class="bg-emerald-100 p-6 rounded-lg border-2 border-emerald-200">
                                        <div class="w-12 h-12 bg-emerald-500 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4">
                                            <i class="fas fa-volume-up"></i>
                                        </div>
                                        <h4 class="font-semibold text-lg text-emerald-700 mb-2">3. 앰프</h4>
                                        <p class="text-sm text-slate-600">
                                            볼륨 및 포락선 조절<br>
                                            • Attack, Decay, Sustain, Release<br>
                                            • 최종 출력
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-chart-area text-primary-500 mr-3"></i>
                            ADSR 엔벨로프
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                ADSR은 소리가 시간에 따라 어떻게 변화하는지를 조절하는 중요한 요소입니다.
                            </p>
                            <div class="chart-container mb-6">
                                <canvas id="adsrChart"></canvas>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="adsr-phase">
                                    <h4 class="font-semibold text-primary-700 mb-2">Attack (어택)</h4>
                                    <p class="text-sm text-slate-600">건반을 누른 순간부터 소리가 최대 크기까지 올라가는 시간</p>
                                </div>
                                <div class="adsr-phase">
                                    <h4 class="font-semibold text-primary-700 mb-2">Decay (디케이)</h4>
                                    <p class="text-sm text-slate-600">최대 크기에서 지속 레벨까지 떨어지는 시간</p>
                                </div>
                                <div class="adsr-phase">
                                    <h4 class="font-semibold text-primary-700 mb-2">Sustain (서스테인)</h4>
                                    <p class="text-sm text-slate-600">건반을 누르고 있는 동안 유지되는 소리의 크기</p>
                                </div>
                                <div class="adsr-phase">
                                    <h4 class="font-semibold text-primary-700 mb-2">Release (릴리즈)</h4>
                                    <p class="text-sm text-slate-600">건반을 뗀 후 소리가 완전히 사라질 때까지의 시간</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="components-section" class="content-section hidden">
                <div class="mb-8">
                    <h2 class="section-title bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent text-4xl font-bold mb-4">3. 핵심 부품들</h2>
                    <p class="section-subtitle">신디사이저를 구성하는 주요 전자 부품들과 그 역할을 알아보겠습니다.</p>
                </div>

                <div class="grid gap-8">
                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-microchip text-primary-500 mr-3"></i>
                            반도체 부품들
                        </h3>
                        <div class="card-content">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200">
                                    <h4 class="font-semibold text-blue-700 mb-4 flex items-center">
                                        <i class="fas fa-cog mr-2"></i>연산 증폭기 (Op-Amp)
                                    </h4>
                                    <p class="text-sm text-slate-600 mb-4">
                                        신디사이저의 핵심 부품으로, 신호를 증폭하고 다양한 연산을 수행합니다. 
                                        오실레이터, 필터, 믹서 등 거의 모든 회로에 사용됩니다.
                                    </p>
                                    <div class="bg-white p-3 rounded border border-blue-200">
                                        <p class="font-medium text-blue-700 mb-2">주요 용도:</p>
                                        <ul class="text-xs text-slate-600 space-y-1">
                                            <li>• 신호 증폭 및 버퍼링</li>
                                            <li>• 오실레이터 회로 구성</li>
                                            <li>• 액티브 필터 제작</li>
                                            <li>• 믹서 및 콤퍼레이터</li>
                                        </ul>
                                    </div>
                                    <div class="mt-4 text-center">
                                        <svg class="w-24 h-16 mx-auto" viewBox="0 0 120 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M20 20L20 60L100 40L20 20Z" stroke="#1e40af" stroke-width="2" fill="#dbeafe"/>
                                            <line x1="0" y1="30" x2="20" y2="30" stroke="#1e40af" stroke-width="2"/>
                                            <line x1="0" y1="50" x2="20" y2="50" stroke="#1e40af" stroke-width="2"/>
                                            <line x1="100" y1="40" x2="120" y2="40" stroke="#1e40af" stroke-width="2"/>
                                            <text x="10" y="35" font-family="Arial" font-size="12" fill="#1e40af">+</text>
                                            <text x="12" y="55" font-family="Arial" font-size="14" fill="#1e40af">-</text>
                                        </svg>
                                        <p class="text-xs text-center text-slate-600">연산 증폭기 기호</p>
                                    </div>
                                </div>
                                <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg border border-green-200">
                                    <h4 class="font-semibold text-green-700 mb-4 flex items-center">
                                        <i class="fas fa-bolt mr-2"></i>트랜지스터 (Transistor)
                                    </h4>
                                    <p class="text-sm text-slate-600 mb-4">
                                        신호를 증폭하거나 스위치 역할을 하는 반도체 소자입니다. 
                                        아날로그 회로에서 정밀한 신호 처리를 담당합니다.
                                    </p>
                                    <div class="bg-white p-3 rounded border border-green-200">
                                        <p class="font-medium text-green-700 mb-2">주요 종류:</p>
                                        <ul class="text-xs text-slate-600 space-y-1">
                                            <li>• BJT (Bipolar Junction Transistor)</li>
                                            <li>• JFET (Junction Field-Effect Transistor)</li>
                                            <li>• MOSFET (Metal-Oxide-Semiconductor FET)</li>
                                        </ul>
                                    </div>
                                    <div class="mt-4 text-center">
                                        <svg class="w-16 h-16 mx-auto" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <line x1="25" y1="15" x2="25" y2="45" stroke="#059669" stroke-width="3"/>
                                            <line x1="25" y1="20" x2="45" y2="10" stroke="#059669" stroke-width="2"/>
                                            <line x1="25" y1="40" x2="45" y2="50" stroke="#059669" stroke-width="2"/>
                                            <line x1="10" y1="30" x2="25" y2="30" stroke="#059669" stroke-width="2"/>
                                            <polygon points="40,45 45,50 40,52" fill="#059669"/>
                                            <circle cx="45" cy="10" r="2" fill="#059669"/>
                                            <circle cx="45" cy="50" r="2" fill="#059669"/>
                                            <circle cx="10" cy="30" r="2" fill="#059669"/>
                                        </svg>
                                        <p class="text-xs text-center text-slate-600">NPN 트랜지스터</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6 bg-slate-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-slate-700 mb-3 flex items-center">
                                    <i class="fas fa-microchip mr-2"></i>IC (Integrated Circuit) 예시
                                </h4>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="text-center">
                                        <div class="bg-white p-2 rounded border border-slate-200 mb-2">
                                            <p class="font-medium text-sm">TL072</p>
                                            <p class="text-xs text-slate-500">듀얼 Op-Amp</p>
                                        </div>
                                        <svg class="w-20 h-12 mx-auto" viewBox="0 0 120 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="10" y="10" width="100" height="60" rx="5" fill="#2d3748" stroke="#4a5568" stroke-width="2"/>
                                            <path d="M50 10 Q60 5 70 10" fill="none" stroke="#4a5568" stroke-width="2"/>
                                            <rect x="5" y="15" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="25" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="35" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="45" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="15" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="25" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="35" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="45" width="10" height="4" fill="#cbd5e1"/>
                                            <text x="15" y="18" font-family="Arial" font-size="6" fill="#2d3748">1</text>
                                            <text x="15" y="25" font-family="Arial" font-size="6" fill="#2d3748">2</text>
                                            <text x="15" y="32" font-family="Arial" font-size="6" fill="#2d3748">3</text>
                                            <text x="15" y="39" font-family="Arial" font-size="6" fill="#2d3748">4</text>
                                            <text x="102" y="39" font-family="Arial" font-size="6" fill="#2d3748">5</text>
                                            <text x="102" y="32" font-family="Arial" font-size="6" fill="#2d3748">6</text>
                                            <text x="102" y="25" font-family="Arial" font-size="6" fill="#2d3748">7</text>
                                            <text x="102" y="18" font-family="Arial" font-size="6" fill="#2d3748">8</text>
                                            <text x="60" y="35" font-family="Arial" font-size="8" fill="white" text-anchor="middle">TL072</text>
                                        </svg>
                                        <p class="text-xs text-center text-slate-600">DIP-8 패키지<br>노치가 위쪽 방향</p>
                                    </div>
                                    <div class="text-center">
                                        <div class="bg-white p-2 rounded border border-slate-200 mb-2">
                                            <p class="font-medium text-sm">LM358</p>
                                            <p class="text-xs text-slate-500">듀얼 Op-Amp</p>
                                        </div>
                                        <svg class="w-20 h-12 mx-auto" viewBox="0 0 120 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="10" y="10" width="100" height="60" rx="5" fill="#2d3748" stroke="#4a5568" stroke-width="2"/>
                                            <path d="M50 10 Q60 5 70 10" fill="none" stroke="#4a5568" stroke-width="2"/>
                                            <rect x="5" y="15" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="25" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="35" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="45" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="15" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="25" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="35" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="45" width="10" height="4" fill="#cbd5e1"/>
                                            <text x="15" y="18" font-family="Arial" font-size="6" fill="#2d3748">1</text>
                                            <text x="15" y="25" font-family="Arial" font-size="6" fill="#2d3748">2</text>
                                            <text x="15" y="32" font-family="Arial" font-size="6" fill="#2d3748">3</text>
                                            <text x="15" y="39" font-family="Arial" font-size="6" fill="#2d3748">4</text>
                                            <text x="102" y="39" font-family="Arial" font-size="6" fill="#2d3748">5</text>
                                            <text x="102" y="32" font-family="Arial" font-size="6" fill="#2d3748">6</text>
                                            <text x="102" y="25" font-family="Arial" font-size="6" fill="#2d3748">7</text>
                                            <text x="102" y="18" font-family="Arial" font-size="6" fill="#2d3748">8</text>
                                            <text x="60" y="35" font-family="Arial" font-size="8" fill="white" text-anchor="middle">LM358</text>
                                        </svg>
                                        <p class="text-xs text-center text-slate-600">DIP-8 패키지<br>범용 Op-Amp</p>
                                    </div>
                                    <div class="text-center">
                                        <div class="bg-white p-2 rounded border border-slate-200 mb-2">
                                            <p class="font-medium text-sm">LM386</p>
                                            <p class="text-xs text-slate-500">오디오 앰프</p>
                                        </div>
                                        <svg class="w-20 h-12 mx-auto" viewBox="0 0 120 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="10" y="10" width="100" height="60" rx="5" fill="#2d3748" stroke="#4a5568" stroke-width="2"/>
                                            <path d="M50 10 Q60 5 70 10" fill="none" stroke="#4a5568" stroke-width="2"/>
                                            <rect x="5" y="15" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="25" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="35" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="5" y="45" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="15" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="25" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="35" width="10" height="4" fill="#cbd5e1"/>
                                            <rect x="105" y="45" width="10" height="4" fill="#cbd5e1"/>
                                            <text x="15" y="18" font-family="Arial" font-size="6" fill="#2d3748">1</text>
                                            <text x="15" y="25" font-family="Arial" font-size="6" fill="#2d3748">2</text>
                                            <text x="15" y="32" font-family="Arial" font-size="6" fill="#2d3748">3</text>
                                            <text x="15" y="39" font-family="Arial" font-size="6" fill="#2d3748">4</text>
                                            <text x="102" y="39" font-family="Arial" font-size="6" fill="#2d3748">5</text>
                                            <text x="102" y="32" font-family="Arial" font-size="6" fill="#2d3748">6</text>
                                            <text x="102" y="25" font-family="Arial" font-size="6" fill="#2d3748">7</text>
                                            <text x="102" y="18" font-family="Arial" font-size="6" fill="#2d3748">8</text>
                                            <text x="60" y="35" font-family="Arial" font-size="8" fill="white" text-anchor="middle">LM386</text>
                                        </svg>
                                        <p class="text-xs text-center text-slate-600">DIP-8 패키지<br>노치가 위쪽 방향</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-circle text-primary-500 mr-3"></i>
                            수동 부품들
                        </h3>
                        <div class="card-content">
                            <div class="grid md:grid-cols-3 gap-6">
                                <div class="bg-gradient-to-br from-emerald-50 to-emerald-100 p-4 rounded-lg border border-emerald-200">
                                    <h4 class="font-semibold text-emerald-700 mb-3 flex items-center">
                                        <i class="fas fa-minus mr-2"></i>저항 (Resistor)
                                    </h4>
                                    <p class="text-sm text-slate-600 mb-3"> 전류의 흐름을 제한하고 전압을 분배하는 부품입니다. </p>
                                    <div class="text-center">
                                        <svg class="w-16 h-8 mx-auto mb-2" viewBox="0 0 80 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <line x1="0" y1="20" x2="20" y2="20" stroke="#059669" stroke-width="2"/>
                                            <rect x="20" y="15" width="40" height="10" fill="none" stroke="#059669" stroke-width="2" rx="2"/>
                                            <line x1="60" y1="20" x2="80" y2="20" stroke="#059669" stroke-width="2"/>
                                        </svg>
                                        <p class="text-xs text-slate-600">저항 기호</p>
                                    </div>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200">
                                    <h4 class="font-semibold text-blue-700 mb-3 flex items-center">
                                        <i class="fas fa-battery-quarter mr-2"></i>커패시터 (Capacitor)
                                    </h4>
                                    <p class="text-sm text-slate-600 mb-3"> 전기를 저장하고 필터링하는 역할을 합니다. </p>
                                    <div class="text-center">
                                        <svg class="w-16 h-8 mx-auto mb-2" viewBox="0 0 80 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <line x1="0" y1="20" x2="35" y2="20" stroke="#2563eb" stroke-width="2"/>
                                            <line x1="35" y1="10" x2="35" y2="30" stroke="#2563eb" stroke-width="3"/>
                                            <line x1="45" y1="10" x2="45" y2="30" stroke="#2563eb" stroke-width="3"/>
                                            <line x1="45" y1="20" x2="80" y2="20" stroke="#2563eb" stroke-width="2"/>
                                        </svg>
                                        <p class="text-xs text-slate-600">커패시터 기호</p>
                                    </div>
                                </div>
                                <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200">
                                    <h4 class="font-semibold text-purple-700 mb-3 flex items-center">
                                        <i class="fas fa-magnet mr-2"></i>인덕터 (Inductor)
                                    </h4>
                                    <p class="text-sm text-slate-600 mb-3"> 자기장을 이용해 전류 변화를 방지합니다. </p>
                                    <div class="text-center">
                                        <svg class="w-16 h-8 mx-auto mb-2" viewBox="0 0 80 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <line x1="0" y1="20" x2="20" y2="20" stroke="#7c3aed" stroke-width="2"/>
                                            <path d="M20 20 Q25 10 30 20 Q35 30 40 20 Q45 10 50 20 Q55 30 60 20" fill="none" stroke="#7c3aed" stroke-width="2"/>
                                            <line x1="60" y1="20" x2="80" y2="20" stroke="#7c3aed" stroke-width="2"/>
                                        </svg>
                                        <p class="text-xs text-slate-600">인덕터 기호</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-shopping-cart text-primary-500 mr-3"></i>
                            부품 선택 가이드
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6"> DIY 신디사이저를 만들기 위한 부품을 선택할 때 고려해야 할 사항들입니다. </p>
                            <ul class="list-disc list-inside text-paragraph space-y-2">
                                <li>
                                    <strong class="text-primary-700">오실레이터:</strong>
                                    • <span class="font-semibold">파형 종류:</span> 사인, 사각, 톱니, 삼각파 중 원하는 음색을 제공하는 파형을 선택합니다.
                                    • <span class="font-semibold">주파수 범위:</span> 가청 주파수 범위(20Hz ~ 20kHz)를 충분히 커버할 수 있는 부품을 선택합니다.
                                    • <span class="font-semibold">안정성:</span> 온도 변화나 전압 변동에 강한 안정적인 오실레이터를 선택합니다.
                                </li>
                                <li>
                                    <strong class="text-accent-700">필터:</strong>
                                    • <span class="font-semibold">필터 종류:</span> 로우패스, 하이패스, 밴드패스 등 원하는 음색 변화를 위한 필터 종류를 선택합니다.
                                    • <span class="font-semibold">Q 값 (공진):</span> 필터의 공진 특성을 조절하여 음색을 더욱 풍부하게 만들 수 있습니다.
                                </li>
                                <li>
                                    <strong class="text-emerald-700">앰프:</strong>
                                    • <span class="font-semibold">출력 전력:</span> 스피커나 헤드폰을 구동하기에 충분한 출력 전력을 가진 앰프를 선택합니다.
                                    • <span class="font-semibold">게인 조절:</span> 소리의 크기를 섬세하게 조절할 수 있는 게인 조절 기능이 있는 앰프를 선택합니다.
                                </li>
                                <li>
                                    <strong class="text-purple-700">기타 부품:</strong>
                                    • <span class="font-semibold">전원 공급:</span> 안정적인 전압과 전류를 공급할 수 있는 전원 모듈을 준비합니다.
                                    • <span class="font-semibold">케이스 및 노브:</span> 사용 편의성과 미관을 고려하여 적절한 케이스와 노브를 선택합니다.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="hands-on-section" class="content-section hidden">
                <div class="mb-8">
                    <h2 class="section-title bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent text-4xl font-bold mb-4">4. 나만의 신디사이저 연주</h2>
                    <p class="section-subtitle">직접 가상 신디사이저를 연주하며 소리를 만들어보고, ADSR 엔벨로프를 조절해보세요.</p>
                </div>

                <div class="grid gap-8">
                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-keyboard text-primary-500 mr-3"></i>
                            가상 건반 연주
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                아래 가상 건반을 클릭하거나 키보드(A, S, D, F, G, H, J, K, L, ;, ', Enter)를 눌러 연주해보세요.
                            </p>
                            <div class="keyboard-container mt-8">
                                <div class="white-keys-container">
                                    <div class="white-key" data-note="C4"></div>
                                    <div class="white-key" data-note="D4"></div>
                                    <div class="white-key" data-note="E4"></div>
                                    <div class="white-key" data-note="F4"></div>
                                    <div class="white-key" data-note="G4"></div>
                                    <div class="white-key" data-note="A4"></div>
                                    <div class="white-key" data-note="B4"></div>
                                    <div class="white-key" data-note="C5"></div>
                                    <div class="white-key" data-note="D5"></div>
                                    <div class="white-key" data-note="E5"></div>
                                    <div class="white-key" data-note="F5"></div>
                                    <div class="white-key" data-note="G5"></div>
                                    <div class="white-key" data-note="A5"></div>
                                    <div class="white-key" data-note="B5"></div>
                                </div>
                                <div class="black-keys-container">
                                    <div class="black-key" data-note="C#4"></div>
                                    <div class="black-key" data-note="D#4"></div>
                                    <div class="black-key spacer"></div>
                                    <div class="black-key" data-note="F#4"></div>
                                    <div class="black-key" data-note="G#4"></div>
                                    <div class="black-key" data-note="A#4"></div>
                                    <div class="black-key spacer"></div>
                                    <div class="black-key" data-note="C#5"></div>
                                    <div class="black-key" data-note="D#5"></div>
                                    <div class="black-key spacer"></div>
                                    <div class="black-key" data-note="F#5"></div>
                                    <div class="black-key" data-note="G#5"></div>
                                    <div class="black-key" data-note="A#5"></div>
                                </div>
                            </div>
                            <p class="text-center text-sm text-slate-600 mt-4">
                                💡 키보드 'Z' 키는 C4, 'S' 키는 C#4에 해당합니다. (추후 구현 예정)
                            </p>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-sliders-h text-primary-500 mr-3"></i>
                            ADSR 엔벨로프 조절
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                소리의 시간에 따른 변화(어택, 디케이, 서스테인, 릴리즈)를 직접 조절해보세요.
                            </p>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                <div class="control-group">
                                    <label for="attack-slider" class="block text-sm font-medium text-slate-700">Attack</label>
                                    <input type="range" id="attack-slider" min="0.01" max="2" value="0.1" step="0.01" class="w-full h-2 bg-primary-200 rounded-lg appearance-none cursor-pointer">
                                    <span id="attack-value" class="text-xs text-slate-500 mt-1 block text-center">0.1s</span>
                                </div>
                                <div class="control-group">
                                    <label for="decay-slider" class="block text-sm font-medium text-slate-700">Decay</label>
                                    <input type="range" id="decay-slider" min="0.01" max="2" value="0.2" step="0.01" class="w-full h-2 bg-primary-200 rounded-lg appearance-none cursor-pointer">
                                    <span id="decay-value" class="text-xs text-slate-500 mt-1 block text-center">0.2s</span>
                                </div>
                                <div class="control-group">
                                    <label for="sustain-slider" class="block text-sm font-medium text-slate-700">Sustain</label>
                                    <input type="range" id="sustain-slider" min="0" max="1" value="0.5" step="0.01" class="w-full h-2 bg-primary-200 rounded-lg appearance-none cursor-pointer">
                                    <span id="sustain-value" class="text-xs text-slate-500 mt-1 block text-center">0.5</span>
                                </div>
                                <div class="control-group">
                                    <label for="release-slider" class="block text-sm font-medium text-slate-700">Release</label>
                                    <input type="range" id="release-slider" min="0.01" max="3" value="0.5" step="0.01" class="w-full h-2 bg-primary-200 rounded-lg appearance-none cursor-pointer">
                                    <span id="release-value" class="text-xs text-slate-500 mt-1 block text-center">0.5s</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="diy-section" class="content-section hidden">
                <div class="mb-8">
                    <h2 class="section-title bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent text-4xl font-bold mb-4">5. 나만의 신디사이저 만들기</h2>
                    <p class="section-subtitle">직접 아날로그 신디사이저를 제작하는 과정을 단계별로 안내합니다.</p>
                </div>

                <div class="grid gap-8">
                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-screwdriver-wrench text-primary-500 mr-3"></i>
                            준비물
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                신디사이저 제작에 필요한 기본 도구와 부품 목록입니다.
                            </p>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-semibold text-primary-700 mb-3 flex items-center">
                                        <i class="fas fa-tools mr-2"></i>기본 도구
                                    </h4>
                                    <ul class="list-disc list-inside text-sm text-slate-600 space-y-2">
                                        <li>• 납땜 인두 및 납</li>
                                        <li>• 니퍼, 롱노우즈 플라이어</li>
                                        <li>• 멀티미터 (전압, 전류, 저항 측정)</li>
                                        <li>• 브레드보드 (회로 테스트용)</li>
                                        <li>• 와이어 스트리퍼</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-primary-700 mb-3 flex items-center">
                                        <i class="fas fa-microchip mr-2"></i>주요 부품
                                    </h4>
                                    <ul class="list-disc list-inside text-sm text-slate-600 space-y-2">
                                        <li>• 연산 증폭기 (예: TL072, LM358)</li>
                                        <li>• 트랜지스터 (예: BC547)</li>
                                        <li>• 저항, 커패시터, 다이오드</li>
                                        <li>• 가변 저항 (볼륨, 피치 조절용)</li>
                                        <li>• 스피커 또는 오디오 출력 단자</li>
                                        <li>• 전원 공급 장치 (9V 배터리 등)</li>
                                        <li>• PCB 또는 만능 기판</li>
                                        <li>• 각종 스위치, 노브, 케이스</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3 class="card-title">
                            <i class="fas fa-list-ol text-primary-500 mr-3"></i>
                            제작 가이드 (예시)
                        </h3>
                        <div class="card-content">
                            <p class="text-paragraph mb-6">
                                간단한 아날로그 신디사이저 회로를 구성하는 단계별 예시입니다.
                            </p>
                            <div class="space-y-6">
                                <div class="step-block">
                                    <div class="flex items-start mb-3">
                                        <div class="w-8 h-8 bg-primary-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">1</div>
                                        <div>
                                            <h4 class="font-semibold text-lg text-primary-700 mb-1">오실레이터 회로 구성</h4>
                                            <p class="text-sm text-slate-600">
                                                연산 증폭기(Op-Amp)를 이용하여 구형파 또는 삼각파를 생성하는 기본 오실레이터 회로를 브레드보드에 구성합니다.
                                                가변 저항을 연결하여 주파수를 조절할 수 있게 합니다.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="step-block">
                                    <div class="flex items-start mb-3">
                                        <div class="w-8 h-8 bg-accent-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">2</div>
                                        <div>
                                            <h4 class="font-semibold text-lg text-accent-700 mb-1">필터 회로 추가</h4>
                                            <p class="text-sm text-slate-600">
                                                오실레이터 출력에 연결할 간단한 저역 통과 필터(Low-Pass Filter)를 구성합니다. 
                                                필터의 차단 주파수를 조절하여 음색을 변화시킬 수 있습니다.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="step-block">
                                    <div class="flex items-start mb-3">
                                        <div class="w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">3</div>
                                        <div>
                                            <h4 class="font-semibold text-lg text-emerald-700 mb-1">앰프 및 출력 단자 연결</h4>
                                            <p class="text-sm text-slate-600">
                                                필터의 출력을 오디오 앰프(예: LM386)에 연결하고, 스피커나 헤드폰 단자를 연결합니다. 
                                                볼륨 조절을 위한 가변 저항도 추가합니다.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="step-block">
                                    <div class="flex items-start mb-3">
                                        <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">4</div>
                                        <div>
                                            <h4 class="font-semibold text-lg text-purple-700 mb-1">전원 공급 및 테스트</h4>
                                            <p class="text-sm text-slate-600">
                                                회로에 9V 배터리 등의 전원을 연결하고, 각 단계별로 멀티미터를 사용하여 전압과 신호의 흐름을 확인합니다. 
                                                소리가 제대로 나오는지 테스트합니다.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="step-block">
                                    <div class="flex items-start mb-3">
                                        <div class="w-8 h-8 bg-primary-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">5</div>
                                        <div>
                                            <h4 class="font-semibold text-lg text-primary-700 mb-1">케이스 및 마감</h4>
                                            <p class="text-sm text-slate-600">
                                                회로가 완성되면 적절한 케이스에 넣고, 노브와 스위치 등을 부착하여 사용하기 편리하게 마감합니다.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="text-center text-sm text-slate-600 mt-6">
                                💡 이 가이드는 예시이며, 실제 회로 구성은 더 복잡할 수 있습니다.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    </div>

    <div class="floating-nav-buttons">
        <button onclick="scrollToTop()" class="floating-nav-button bg-primary-500 hover:bg-primary-600 text-white" title="맨 위로">
            <i class="fas fa-arrow-up"></i>
        </button>
        <button id="prevPageBtn" onclick="getPreviousSection()" class="floating-nav-button bg-slate-500 hover:bg-slate-600 text-white" title="이전 페이지">
            <i class="fas fa-arrow-left"></i>
        </button>
        <button id="nextPageBtn" onclick="getNextSection()" class="floating-nav-button bg-slate-500 hover:bg-slate-600 text-white" title="다음 페이지">
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>

    <div id="mobile-nav-overlay" class="mobile-nav-overlay">
        <div class="close-btn" onclick="closeMobileNav()">&times;</div>
        <div class="nav-links">
            <button class="tab-button" onclick="showSection('sound'); closeMobileNav();">1. 소리의 세계</button>
            <button class="tab-button" onclick="showSection('heart'); closeMobileNav();">2. 신디사이저의 기본 구조</button>
            <button class="tab-button" onclick="showSection('components'); closeMobileNav();">3. 핵심 부품들</button>
            <button class="tab-button" onclick="showSection('hands-on'); closeMobileNav();">4. 나만의 신디사이저 연주</button>
            <button class="tab-button" onclick="showSection('diy'); closeMobileNav();">5. 나만의 신디사이저 만들기</button>
        </div>
    </div>

    <script>
        // Smooth scroll to top
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Section handling
        const sections = ['sound', 'heart', 'components', 'hands-on', 'diy'];
        let currentSectionIndex = 0;

        function showSection(sectionId) {
            sections.forEach(id => {
                const section = document.getElementById(id + '-section');
                if (section) {
                    section.classList.add('hidden');
                }
            });

            const targetSection = document.getElementById(sectionId + '-section');
            if (targetSection) {
                targetSection.classList.remove('hidden');
                currentSectionIndex = sections.indexOf(sectionId);
                updateNavigationButtons();
                scrollToTop();
            }

            // Update active tab button
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
                if (button.onclick.toString().includes(`'${sectionId}'`)) {
                    button.classList.add('active');
                }
            });
        }

        function getNextSection() {
            if (currentSectionIndex < sections.length - 1) {
                currentSectionIndex++;
                showSection(sections[currentSectionIndex]);
            }
        }

        function getPreviousSection() {
            if (currentSectionIndex > 0) {
                currentSectionIndex--;
                showSection(sections[currentSectionIndex]);
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevPageBtn');
            const nextBtn = document.getElementById('nextPageBtn');

            if (prevBtn) {
                prevBtn.style.display = currentSectionIndex === 0 ? 'none' : 'flex';
            }
            if (nextBtn) {
                nextBtn.style.display = currentSectionIndex === sections.length - 1 ? 'none' : 'flex';
            }
        }

        // Mobile menu toggle
        document.getElementById('mobile-menu-toggle').addEventListener('click', () => {
            document.getElementById('mobile-nav-overlay').classList.add('open');
        });

        function closeMobileNav() {
            document.getElementById('mobile-nav-overlay').classList.remove('open');
        }

        // Initial setup
        document.addEventListener('DOMContentLoaded', () => {
            showSection(sections[currentSectionIndex]);
            updateNavigationButtons();
        });

        // Welcome Overlay
        const startButton = document.getElementById('start-exploration-button');
        const mainOverlay = document.getElementById('main-page-overlay');

        if (startButton && mainOverlay) {
            startButton.addEventListener('click', () => {
                mainOverlay.classList.add('fade-out');
                setTimeout(() => {
                    mainOverlay.style.display = 'none';
                }, 700); // Duration of fade-out transition
            });
        }

        // Waveform Chart (Chart.js)
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('waveformChart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: Array.from({ length: 100 }, (_, i) => i), // X-axis for time
                        datasets: [
                            {
                                label: '사인파 (Sine Wave)',
                                data: Array.from({ length: 100 }, (_, i) => Math.sin(i * 0.1)),
                                borderColor: 'rgb(75, 192, 192)',
                                borderWidth: 2,
                                fill: false,
                                tension: 0.4
                            },
                            {
                                label: '사각파 (Square Wave)',
                                data: Array.from({ length: 100 }, (_, i) => (Math.sin(i * 0.1) > 0 ? 1 : -1)),
                                borderColor: 'rgb(255, 99, 132)',
                                borderWidth: 2,
                                fill: false,
                                stepped: true
                            },
                            {
                                label: '톱니파 (Sawtooth Wave)',
                                data: Array.from({ length: 100 }, (_, i) => ((i * 0.1) % (2 * Math.PI) / (2 * Math.PI)) * 2 - 1),
                                borderColor: 'rgb(54, 162, 235)',
                                borderWidth: 2,
                                fill: false,
                                tension: 0.4
                            },
                            {
                                label: '삼각파 (Triangle Wave)',
                                data: Array.from({ length: 100 }, (_, i) => {
                                    const val = (i * 0.1) % (2 * Math.PI);
                                    if (val < Math.PI) {
                                        return (2 / Math.PI) * val - 1;
                                    } else {
                                        return -((2 / Math.PI) * val - 3);
                                    }
                                }),
                                borderColor: 'rgb(153, 102, 255)',
                                borderWidth: 2,
                                fill: false,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top',
                            },
                            title: {
                                display: true,
                                text: '다양한 파형 예시'
                            }
                        },
                        scales: {
                            x: {
                                display: false
                            },
                            y: {
                                min: -1.1,
                                max: 1.1
                            }
                        }
                    }
                });
            }
        });

        // ADSR Chart (Chart.js)
        document.addEventListener('DOMContentLoaded', function() {
            const adsrCtx = document.getElementById('adsrChart');
            if (adsrCtx) {
                new Chart(adsrCtx, {
                    type: 'line',
                    data: {
                        labels: ['Start', 'Attack', 'Decay', 'Sustain', 'Release', 'End'],
                        datasets: [{
                            label: 'ADSR Envelope',
                            data: [0, 1, 0.5, 0.5, 0, 0],
                            borderColor: 'rgb(255, 159, 64)',
                            borderWidth: 3,
                            fill: true,
                            backgroundColor: 'rgba(255, 159, 64, 0.2)',
                            tension: 0.2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'ADSR 엔벨로프의 시간별 변화'
                            }
                        },
                        scales: {
                            x: {
                                display: true,
                                title: {
                                    display: true,
                                    text: '시간'
                                }
                            },
                            y: {
                                min: 0,
                                max: 1.1,
                                title: {
                                    display: true,
                                    text: '음량'
                                }
                            }
                        }
                    }
                });
            }
        });

        // Web Audio API for waveform demo
        let audioCtx;
        let oscillator;
        let gainNode;

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                gainNode = audioCtx.createGain();
                gainNode.connect(audioCtx.destination);
                gainNode.gain.value = 0.5; // Initial volume
            }
        }

        function startWaveform(type) {
            initAudio();
            if (oscillator) {
                oscillator.stop();
                oscillator.disconnect();
            }
            oscillator = audioCtx.createOscillator();
            oscillator.type = type;
            oscillator.frequency.setValueAtTime(440, audioCtx.currentTime); // A4 note
            oscillator.connect(gainNode);
            oscillator.start();
        }

        function stopWaveform() {
            if (oscillator) {
                oscillator.stop();
                oscillator.disconnect();
                oscillator = null;
            }
        }

        // Virtual Keyboard Audio (basic implementation)
        const notes = {
            'C4': 261.63, 'C#4': 277.18, 'D4': 293.66, 'D#4': 311.13, 'E4': 329.63, 'F4': 349.23,
            'F#4': 369.99, 'G4': 392.00, 'G#4': 415.30, 'A4': 440.00, 'A#4': 466.16, 'B4': 493.88,
            'C5': 523.25, 'C#5': 554.37, 'D5': 587.33, 'D#5': 622.25, 'E5': 659.25, 'F5': 698.46,
            'F#5': 739.99, 'G5': 783.99, 'G#5': 830.61, 'A5': 880.00, 'A#5': 932.33, 'B5': 987.77
        };

        const keyMap = {
            'a': 'C4', 's': 'D4', 'd': 'E4', 'f': 'F4', 'g': 'G4', 'h': 'A4', 'j': 'B4',
            'k': 'C5', 'l': 'D5', ';': 'E5', "'": 'F5', 'Enter': 'G5', // Example, adjust as needed
            'w': 'C#4', 'e': 'D#4', 't': 'F#4', 'y': 'G#4', 'u': 'A#4',
            'o': 'C#5', 'p': 'D#5', '[': 'F#5', ']': 'G#5', '\\': 'A#5'
        };

        const activeOscillators = {};
        let currentWaveform = 'sine'; // Default waveform for keyboard

        function startNote(note) {
            initAudio();
            if (!activeOscillators[note]) {
                const freq = notes[note];
                if (freq) {
                    const osc = audioCtx.createOscillator();
                    osc.type = currentWaveform;
                    osc.frequency.setValueAtTime(freq, audioCtx.currentTime);

                    const gain = audioCtx.createGain();
                    gain.gain.setValueAtTime(0, audioCtx.currentTime);
                    gain.gain.linearRampToValueAtTime(1, audioCtx.currentTime + parseFloat(document.getElementById('attack-slider').value));
                    gain.gain.linearRampToValueAtTime(parseFloat(document.getElementById('sustain-slider').value), audioCtx.currentTime + parseFloat(document.getElementById('attack-slider').value) + parseFloat(document.getElementById('decay-slider').value));

                    osc.connect(gain);
                    gain.connect(audioCtx.destination);
                    osc.start(audioCtx.currentTime);
                    activeOscillators[note] = { osc, gain };

                    // Add 'active' class to the key
                    const keyElement = document.querySelector(`[data-note="${note}"]`);
                    if (keyElement) {
                        keyElement.classList.add('active');
                    }
                }
            }
        }

        function stopNote(note) {
            if (activeOscillators[note]) {
                const { osc, gain } = activeOscillators[note];
                gain.gain.cancelScheduledValues(audioCtx.currentTime);
                gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + parseFloat(document.getElementById('release-slider').value));
                osc.stop(audioCtx.currentTime + parseFloat(document.getElementById('release-slider').value));
                osc.onended = () => {
                    osc.disconnect();
                    gain.disconnect();
                    delete activeOscillators[note];
                };

                // Remove 'active' class from the key
                const keyElement = document.querySelector(`[data-note="${note}"]`);
                if (keyElement) {
                    keyElement.classList.remove('active');
                }
            }
        }

        document.querySelectorAll('.white-key, .black-key').forEach(key => {
            key.addEventListener('mousedown', (e) => {
                const note = e.target.dataset.note;
                startNote(note);
            });
            key.addEventListener('mouseup', (e) => {
                const note = e.target.dataset.note;
                stopNote(note);
            });
            key.addEventListener('mouseleave', (e) => {
                const note = e.target.dataset.note;
                stopNote(note);
            });
            key.addEventListener('touchstart', (e) => {
                e.preventDefault(); // Prevent scrolling on mobile
                const note = e.target.dataset.note;
                startNote(note);
            });
            key.addEventListener('touchend', (e) => {
                e.preventDefault(); // Prevent unintended behavior
                const note = e.target.dataset.note;
                stopNote(note);
            });
        });

        // Keyboard event listeners
        document.addEventListener('keydown', (e) => {
            if (!e.repeat) {
                const note = keyMap[e.key.toLowerCase()];
                if (note) {
                    startNote(note);
                }
            }
        });

        document.addEventListener('keyup', (e) => {
            const note = keyMap[e.key.toLowerCase()];
            if (note) {
                stopNote(note);
            }
        });

        // ADSR Slider event listeners
        document.getElementById('attack-slider').addEventListener('input', (e) => {
            document.getElementById('attack-value').textContent = parseFloat(e.target.value).toFixed(2) + 's';
        });
        document.getElementById('decay-slider').addEventListener('input', (e) => {
            document.getElementById('decay-value').textContent = parseFloat(e.target.value).toFixed(2) + 's';
        });
        document.getElementById('sustain-slider').addEventListener('input', (e) => {
            document.getElementById('sustain-value').textContent = parseFloat(e.target.value).toFixed(2);
        });
        document.getElementById('release-slider').addEventListener('input', (e) => {
            document.getElementById('release-value').textContent = parseFloat(e.target.value).toFixed(2) + 's';
        });

    </script>
</body>
</html>
